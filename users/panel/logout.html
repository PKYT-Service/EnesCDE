<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>V√©rification & Redirection</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-black text-white flex justify-center items-center h-screen">

    <div class="text-center">
        <!-- Animation de chargement -->
        <div class="flex justify-center">
            <div class="w-10 h-10 border-4 border-gray-300 border-t-transparent rounded-full animate-spin"></div>
        </div>
        <h1 class="text-xl font-bold mt-4">Chargement en cours...</h1>

        <!-- √âtapes -->
        <ul id="steps" class="mt-4 text-left space-y-2">
            <li id="step1" class="opacity-50">1Ô∏è‚É£ Charge le script...</li>
            <li id="step2" class="opacity-50">2Ô∏è‚É£ V√©rifie la pr√©sence des cl√©s...</li>
            <li id="step3" class="opacity-50">3Ô∏è‚É£ Suppression des cl√©s...</li>
            <li id="step4" class="opacity-50">4Ô∏è‚É£ V√©rification de la suppression...</li>
        </ul>
    </div>

    <script>
        async function startProcess() {
            try {
                updateStep(1, "‚úÖ Charge le script...");

                // V√©rification des cl√©s
                updateStep(2, "üîç V√©rifie la pr√©sence des cl√©s...");
                const emailPassword = localStorage.getItem("email*-*password");
                const enesCDE = localStorage.getItem("Enes-CDE-C");

                if (!emailPassword || !enesCDE) {
                    throw new Error("Cl√©s manquantes !");
                }

                // Suppression des cl√©s
                updateStep(3, "üóëÔ∏è Suppression des cl√©s...");
                localStorage.removeItem("email*-*password");
                localStorage.removeItem("Enes-CDE-C");

                // V√©rification de la suppression
                updateStep(4, "üîÑ V√©rification de la suppression...");
                if (localStorage.getItem("email*-*password") || localStorage.getItem("Enes-CDE-C")) {
                    throw new Error("Les cl√©s sont encore pr√©sentes !");
                }

                // Succ√®s : Redirection
                updateStep(4, "‚úÖ Suppression r√©ussie ! Redirection...");
                setTimeout(() => {
                    window.location.href = "https://enes-cde.vercel.app";
                }, 2000);
            } catch (error) {
                console.error(error);
                updateStep(4, "‚ùå Erreur ! Recommence...");
                setTimeout(startProcess, 3000);
            }
        }

        function updateStep(step, text) {
            document.getElementById(`step${step}`).textContent = text;
            document.getElementById(`step${step}`).classList.remove("opacity-50");
        }

        // D√©marrer le processus au chargement de la page
        startProcess();
    </script>
</body>
</html>
