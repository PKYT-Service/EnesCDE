<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Stats VPS</title>
<script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen flex flex-col items-center justify-center font-sans">

<div class="bg-white shadow-lg rounded-xl p-8 w-full max-w-xl">
    <h1 class="text-2xl font-bold text-gray-800 mb-4 text-center">Infos Serveur VPS</h1>
    
    <p class="text-gray-600 mb-6 text-center">Cliquez sur le bouton pour rÃ©cupÃ©rer les infos systÃ¨me du serveur.</p>
    
    <div class="flex justify-center mb-6">
        <button id="getInfo" class="bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-6 rounded-lg transition-colors">
            Obtenir Infos
        </button>
    </div>
    
    <div class="bg-gray-50 p-4 rounded-lg shadow-inner">
        <pre id="output" class="text-gray-800 overflow-x-auto max-h-96"></pre>
    </div>
</div>

<script>
const TOKEN = "19324923949239401smldjf";

document.getElementById('getInfo').addEventListener('click', async () => {
    const output = document.getElementById('output');
    output.textContent = "Chargement...";

    try {
        const res = await fetch('http://51.77.140.39:12345/opt/ServerInfoToStatic', {
            headers: {
                'Authorization': `Bearer ${TOKEN}`
            }
        });
        if(!res.ok) throw new Error(`Erreur ${res.status}`);
        const data = await res.json();

        let display = `
ðŸ’» CPU : ${data.cpu}
ðŸ§  RAM totale : ${(data.ram / 1024 / 1024 / 1024).toFixed(2)} GB
ðŸ”Œ Ports ouverts : 
${data.ports}
        `;
        output.textContent = display.trim();
    } catch (e) {
        output.textContent = `Erreur : ${e.message}`;
    }
});
</script>

</body>
</html>
